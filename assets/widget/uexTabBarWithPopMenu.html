<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"
	content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no" />
<link rel="stylesheet" type="text/css" href="css/index.css">
<title>PathArcMenu</title>
<script type="text/javascript">
    window.uexOnload = function() {
		uexWidgetOne.onError = function(opCode, errorCode, errorDesc) {
			alert(errorCode + ":" + errorDesc);
		}
	}
    function createMenu(){
        uexTabBarWithPopMenu.onTabItemClick = tabItemCallback;
        uexTabBarWithPopMenu.onPopMenuItemClick = popItemCallback;

        var params = {
            left:0,
            top:300,
            width:-1,
            height:120,
            tab:{
                textSize:10,
                textNColor:"#ffffff",
                textHColor:"#EA7C24",
                centerImg:"res://plus2.png",
                bgColor:"#32394A",
                data:[
                    {
                        title:"动态",
                        iconN:"res://tab1.png",
                        iconH:"res://tab1_1.png"
                    },
                    {
                        title:"与我相关",
                        iconN:"res://tab2.png",
                        iconH:"res://tab2_1.png"
                    },
                    {
                        title:"我的空间",
                        iconN:"res://tab3.png",
                        iconH:"res://tab3_1.png"
                    },
                    {
                        title:"玩吧",
                        iconN:"res://tab4.png",
                        iconH:"res://tab4_1.png"
                    }
                ]
            },
            popMenu:{
                textSize:15,
                textNColor:"#000000",
                textHColor:"#dddddd",
                bgColor:"#66ffffff",
                data:[
                    {
                        title: "联系人",
                        iconN:"res://pop1.png",
                        iconH:"res://pop1_1.png"
                    },
                    {
                        title: "保存",
                        iconN:"res://pop2.png",
                        iconH:"res://pop2_1.png"
                    },
                    {
                        title: "拍照",
                        iconN:"res://pop3.png",
                        iconH:"res://pop3_1.png"
                    },
                    {
                        title: "打印文件",
                        iconN:"res://pop4.png",
                        iconH:"res://pop4_1.png"
                    },
                    {
                        title: "定位",
                        iconN:"res://pop5.png",
                        iconH:"res://pop5_1.png"
                    }
                ]
            }
        }
        uexTabBarWithPopMenu.open(JSON.stringify(params));
        setItemChecked(0);
        //uexTabBarWithPopMenu.open('0','150','320','416');
    }
    function setMenuItems(){
        var param = {
            tabItems:[
                {
                    text:"动态",
                    textColor:""
                },
                {
                    text:"与我相关",
                    textColor:""
                },
                {
                    text:"我的空间",
                    textColor:""
                },
                {
                    text:"玩吧",
                    textColor:""
                }
            ]
        };

        uexTabBarWithPopMenu.setTabItems(JSON.stringify(param));
    }
    function setPopItems(){
        var param = {
            popMenuItems: [
                {
                    text: "联系人",
                    imgNormal: "res://plugin_tabbar_contacts@2x.png",
                    imgHighlight: "res://plugin_tabbar_contacts@2x.png",
                    textColor: "#FFFF00"
                },
                {
                    text: "保存",
                    imgNormal: "res://plugin_tabbar_save@2x.png",
                    imgHighlight: "res://plugin_tabbar_save@2x.png",
                    textColor: "#FF00FF"
                },
                {
                    text: "拍照",
                    imgNormal: "res://plugin_tabbar_photos@2x.png",
                    imgHighlight: "res://plugin_tabbar_photos@2x.png",
                    textColor: "#FFFFFF"
                },
                {
                    text: "打印文件",
                    imgNormal: "res://plugin_tabbar_printfile@2x.png",
                    imgHighlight: "res://plugin_tabbar_printfile@2x.png",
                    textColor: "#FFFFFF"
                },
                {
                    text: "定位",
                    imgNormal: "res://plugin_tabbar_location@2x.png",
                    imgHighlight: "res://plugin_tabbar_location@2x.png",
                    textColor: "#FFFF00"
                }
            ]
        };
        uexTabBarWithPopMenu.setPopMenuItems(param);
    }
    function tabItemCallback(data){
        alert("tabItemCallback:"+data);
        setItemChecked(JSON.parse(data).index);
    }
    function popItemCallback(data){
        alert("popItemCallback:"+data);
    }
    function closeMenu(){
        uexTabBarWithPopMenu.close();
    }
    function setItemChecked(i){
        var params = {
            index:i
        };
        var data = JSON.stringify(params);
        uexTabBarWithPopMenu.setItemChecked(data);
    }
</script>
</head>

<body>
	<div class="tit">Demo</div>
        <div class="conbor">
            <div class="consj">
                <input class="btn" type="button" value="打开Demo" onclick="createMenu();"/>
                <input class="btn" type="button" value="设置tabitems" onclick="setMenuItems();"/>
                <input class="btn" type="button" value="设置popitems" onclick="setPopItems();"/>

                <input class="btn" type="button" value="关闭" onclick="closeMenu();"/>
                <input class="btn" type="button" value="返回" onclick="uexWindow.close();"/>
            </div>
        </div>
</body>
</html>